
{
  "entities": {
    "User": {
      "title": "User",
      "type": "object",
      "description": "Represents a user account in the system.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user entity."
        },
        "email": {
          "type": "string",
          "description": "User's email address.",
          "format": "email"
        },
        "displayName": {
          "type": "string",
          "description": "User's display name."
        },
        "createdDateTime": {
          "type": "string",
          "description": "Date and time the user account was created.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "email",
        "createdDateTime"
      ]
    },
    "UserProfile": {
      "title": "UserProfile",
      "type": "object",
      "description": "Represents a user's public profile information, linked to a User account.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user profile entity. Matches the user's auth UID."
        },
        "username": {
          "type": "string",
          "description": "The user's public username."
        },
        "role": {
          "type": "string",
          "description": "User's role (e.g., Brand, Creator, Studio)."
        },
        "avatarUrl": {
          "type": "string",
          "description": "URL of the user's avatar.",
          "format": "uri"
        },
        "bio": {
          "type": "string",
          "description": "User's biography."
        }
      },
      "required": [
        "id",
        "username"
      ]
    },
    "Follow": {
        "title": "Follow",
        "type": "object",
        "description": "Represents a follow relationship between two users.",
        "properties": {
            "followerId": {
                "type": "string",
                "description": "The UID of the user who is following."
            },
            "followingId": {
                "type": "string",
                "description": "The UID of the user being followed."
            },
            "createdAt": {
                "type": "string",
                "format": "date-time",
                "description": "Timestamp of when the follow action occurred."
            }
        },
        "required": ["followerId", "followingId", "createdAt"]
    },
    "Post": {
      "title": "Post",
      "type": "object",
      "description": "Represents a post in the content feed.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the post entity."
        },
        "userId": {
          "type": "string",
          "description": "Reference to the UserProfile entity of the author."
        },
        "caption": {
          "type": "string",
          "description": "Description or caption for the post."
        },
        "media": {
          "type": "array",
          "description": "Media content of the post.",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "image",
                  "video"
                ]
              },
              "url": {
                "type": "string",
                "format": "uri"
              }
            }
          }
        },
        "createdAt": {
          "type": "string",
          "description": "Date and time the post was created.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "createdAt"
      ]
    },
    "Project": {
      "title": "Project",
      "type": "object",
      "description": "Represents a project in the opportunity marketplace.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the project entity."
        },
        "name": {
          "type": "string",
          "description": "The name of the project."
        },
        "description": {
          "type": "string",
          "description": "A detailed description of the project."
        },
        "ownerId": {
          "type": "string",
          "description": "Reference to the UserProfile entity of the project creator."
        },
        "createdAt": {
          "type": "string",
          "description": "Date and time the project was created.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "ownerId",
        "createdAt"
      ]
    },
    "StudioProfile": {
      "title": "StudioProfile",
      "type": "object",
      "description": "Represents the profile information for a studio.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the studio profile entity."
        },
        "userProfileId": {
          "type": "string",
          "description": "Reference to the UserProfile entity."
        },
        "studioName": {
          "type": "string",
          "description": "Name of the studio."
        },
        "location": {
          "type": "string",
          "description": "Location of the studio."
        },
        "photos": {
          "type": "array",
          "description": "List of URLs of studio photos.",
          "items": {
            "type": "string",
            "format": "uri"
          }
        }
      },
      "required": [
        "id",
        "userProfileId",
        "studioName"
      ]
    },
    "Status": {
      "title": "Status",
      "type": "object",
      "description": "Represents a temporary 24-hour status update.",
      "properties": {
        "statusId": {
          "type": "string",
          "description": "Unique identifier for the status."
        },
        "userId": {
          "type": "string",
          "description": "The ID of the user who posted the status."
        },
        "mediaUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL of the image/video, or the link for link-type statuses."
        },
        "mediaType": {
          "type": "string",
          "enum": [
            "image",
            "video",
            "text",
            "link"
          ],
          "description": "The type of media for the status."
        },
        "text": {
          "type": "string",
          "description": "Optional text caption or the content for a text-only status."
        },
        "backgroundColor": {
            "type": "string",
            "description": "Background color for text statuses."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when the status was created."
        },
        "expiresAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when the status will auto-expire (24 hours after creation)."
        },
        "viewers": {
          "type": "array",
          "description": "List of user IDs who have viewed the status.",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "statusId",
        "userId",
        "mediaType",
        "createdAt",
        "expiresAt"
      ]
    },
    "Booking": {
      "title": "Booking",
      "type": "object",
      "description": "Represents a booking for a studio.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the booking." },
        "studioId": { "type": "string", "description": "ID of the studio being booked." },
        "userId": { "type": "string", "description": "ID of the user making the booking." },
        "date": { "type": "string", "description": "The date of the booking in YYYY-MM-DD format." },
        "time": { "type": "string", "description": "The time slot of the booking." },
        "createdAt": { "type": "string", "format": "date-time", "description": "Timestamp of when the booking was made." }
      },
      "required": ["id", "studioId", "userId", "date", "time", "createdAt"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": {
            "$ref": "#/entities/User"
          },
          "description": "Stores basic, private user account information, separate from public profiles."
        }
      },
      {
        "path": "/user_profiles/{userProfileId}",
        "definition": {
          "entityName": "UserProfile",
          "schema": {
            "$ref": "#/entities/UserProfile"
          },
          "description": "Stores public user profile information. The document ID matches the user's auth UID."
        }
      },
      {
        "path": "/user_profiles/{userProfileId}/statuses/{statusId}",
        "definition": {
          "entityName": "Status",
          "schema": {
            "$ref": "#/entities/Status"
          },
          "description": "Stores individual status updates for a user. Allows for a collection group query on 'statuses'."
        }
      },
      {
          "path": "/follows/{followId}",
          "definition": {
              "entityName": "Follow",
              "schema": { "$ref": "#/entities/Follow" },
              "description": "Stores follow relationships. Document ID is a composite of followerId_followingId."
          }
      },
      {
        "path": "/posts/{postId}",
        "definition": {
          "entityName": "Post",
          "schema": {
            "$ref": "#/entities/Post"
          },
          "description": "A top-level collection for all user posts to allow for an aggregated feed."
        }
      },
      {
        "path": "/projects/{projectId}",
        "definition": {
          "entityName": "Project",
          "schema": {
            "$ref": "#/entities/Project"
          },
          "description": "A top-level collection for all projects."
        }
      },
      {
        "path": "/studio_profiles/{studioProfileId}",
        "definition": {
          "entityName": "StudioProfile",
          "schema": {
            "$ref": "#/entities/StudioProfile"
          },
          "description": "A top-level collection for all studio profiles."
        }
      },
      {
        "path": "/studio_profiles/{studioProfileId}/bookings/{bookingId}",
        "definition": {
          "entityName": "Booking",
          "schema": { "$ref": "#/entities/Booking" },
          "description": "Stores booking information for a specific studio."
        }
      }
    ],
    "reasoning": "This simplified structure directly matches the user's confirmed list of collections: users, user_profiles, posts, projects, and studio_profiles. It uses a flat architecture for scalable queries, especially for the main post feed. User data is split between private 'users' and public 'user_profiles' for security. Statuses are a subcollection under user_profiles to enable efficient querying and collection group scans."
  }
}
